<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Katalog lables</title>
        <style type="text/css" media="print">
            form, .web {display:none}
        </style>
        <style type="text/css">
            @page {margin:0}
            * {
                font-family:Geneva, Arial, Helvetica, sans-serif;
                font-size:13pt;
                margin:0;
                padding:0;
                border-collapse:collapse;
                border-spacing:0;
            }
            h1 {
                text-align:center;
            }
            div.table {
                width:19.6cm;
                margin:1.12cm 0 0 0.4cm; /**/
            }
            div.tr {
                height:3.80cm;
                page-break-inside:avoid;
                page-break-before:avoid;
                page-break-after:avoid;
                clear:both;
            }
            div.td {
                text-align:center;
                vertical-align:middle;
                width:6.30cm;
                margin:0 0.34cm;
                float:left;
                height:3.80cm;
                display: table-cell;
                vertical-align: middle
            }
            div.left {
                margin:0cm;
            }
            div.left, div.right {
                margin:0cm;
            }
            table {
                height:100%;
                width:100%;
            }
            td {
                vertical-align:middle;
            }
            p.line8 {
                page-break-before:always;
                line-height:0.1mm;
            }
        </style>
    </head>
    <body>
        <form action="" method="get" style="text-align:center">
            <input type="submit" value="Vis nyere end" accesskey="f" />
            <input value="{{date}}" name="dato" />
        </form>
        {% if contacts %}
        <h1 class="web">{{(contacts|length / 21)|round(0, 'ceil')}} sider</h1>
        {% for contact in contacts %}
        {% if loop.index0 is divisible by(21) %}
        {% if not loop.first %}
        <p class="line8">&nbsp;</p>
        {% endif %}
        <div class="table">
        {% endif %}
            {% if loop.index0 is divisible by(3) or loop.first %}
            <div class="tr">
            {% endif %}
                <div class="td{% if loop.index0 is divisible by(3) %} left{% elseif (loop.index0 - 2) is divisible by(3) %} right{% endif %}">
                    <table>
                        <tr>
                            <td>
                                {{contact.name}}<br />
                                {{contact.address}}<br />
                                {{contact.postcode}} {{contact.city}}
                                {% if contacts.country != 'Danmark' %}<br />{{contact.country}}{% endif %}
                            </td>
                        </tr>
                    </table>
                </div>
            {% if loop.index is divisible by(3) or loop.last %}
            </div>
            {% endif %}
        {% if loop.index is divisible by(21) or loop.last %}
        </div>
        {% endif %}
        {% endfor %}
        {% endif %}
    </body>
</html>
